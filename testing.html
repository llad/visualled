<!DOCTYPE html>
<html>
<head>
    
    <script type="text/javascript" src="d3.v2.js"></script>

</head>

<body>
</body>

    <style type="text/css">
    
    .chart {
        font: 10px sans-serif;
    }

    .chart div {
        background-color: steelblue;
        text-align: right;
        padding: 4px;
        margin: 1px;
        color: white;
    }

    .chart rect {
        stroke: white;
        fill: steelblue;
    }
    
    .chart text.bar {
        fill: white;
    }


    </style>
    <script type="text/javascript">

    var data = [4, 8, 15, 16, 23, 42];
    var chart = d3.select("body")
        .append("div")
        .attr("class", "chart");
    
    var x = d3.scale.linear()
        .domain([0, d3.max(data)])
        .range(["0px", "420px"]);

    chart.selectAll("div")
    .data(data)
    .enter().append("div")
    .style("width", x)
    .text(String);

    var chartsvg = d3.select("body").append("svg")
        .attr("class", "chart")
        .attr("width", 420 + 100)
        .attr("height", 20 * data.length + 150)
        .append("g")
        .attr("transform", "translate(10,15)");

    var x = d3.scale.linear()
        .domain([0, d3.max(data)])
        .range([0, 420]);

    var y = d3.scale.ordinal()
        .domain(data)
        .rangeBands([0, 120]);

    chartsvg.selectAll("line")
        .data(x.ticks(10))
        .enter().append("line")
        .attr("x1", x)
        .attr("x2", x)
        .attr("y1", 0)
        .attr("y2", 120)
        .style("stroke", "#ccc");

    chartsvg.selectAll("rect")
        .data(data)
        .enter().append("rect")
        .attr("y", y)
        .attr("width", x)
        .attr("height", y.rangeBand());

    chartsvg.selectAll("text")
        .data(data)
        .enter().append("text")
        .attr("class", "bar")
        .attr("x", x)
        .attr("y", function(d) { return y(d) + y.rangeBand() / 2; })
        .attr("dx", -3) // padding-right
        .attr("dy", ".35em") // vertical-align: middle
        .attr("text-anchor", "end") // text-align: right
        .text(String);


    chartsvg.selectAll(".rule")
        .data(x.ticks(10))
        .enter().append("text")
        .attr("class", "rule")
        .attr("x", x)
        .attr("y", 0)
        .attr("dy", -3)
        .attr("text-anchor", "middle")
        .text(String);

     chartsvg.append("line")
        .attr("y1", 0)
        .attr("y2", 120)
        .style("stroke", "#000");


    </script>

</html>
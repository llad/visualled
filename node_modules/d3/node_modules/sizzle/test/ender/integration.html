<!doctype html>
<html>
<head>
  <title>Simple Sizzle Ender Integration Tests</title>
  <script src="ender.js"></script>
  <style type="text/css">
    body { font-family: 'helvetica neue', helvetica, arial; font-size: 11pt; }
    p { margin: 5px; }
    .fail { color: red; }
    .pass { color: green; }
  </style>
</head>
<body>

<script type="text/javascript">
  var el = document.createElement('p'), actual
  el.innerHTML = '<a href="#hoohaa"><span><i>yo!</i></span></a><b>hey!</b>'

  function result (success, msg) {
    var r = document.createElement('p')
      s = success ? 'Pass' : 'Fail'
    r.innerHTML = '<b>' + s + '</b>: ' + msg
    r.className = s.toLowerCase()
    document.body.appendChild(r)
  }


  actual = $('[href]', el)
  result(actual.length === 1 && actual[0] === el.childNodes[0], '$(selector, root) found element (should work in modern browsers regardless of Sizzle)')

  el.querySelectorAll = function() { return []; }

  result(!!$(el).is, '$(el).is(selector) exists')
  result($(el).is === $(el).matchesSelector , '$(el).matchesSelector(slector) exists and is an alias for $(el).is(selector)')

  result($(el).is('p') && !$(el).is('a'), '$(el).is(selector) works correctly')

  result(!!$(el).find, '$(el).find(selector) exists')
  actual = $(el).find('i')
  result(actual.length === 1 && actual[0] === el.childNodes[0].childNodes[0].childNodes[0], '$(el).find(selector) works correctly')

  result(!!$(el).and, '$(el).and(selector) exists')
  actual = $(el).and('body')
  result(actual.length === 2 && actual[0] === el && actual[1] === document.body, '$(el).and(selector) works correctly')

</script>
</body>
</html>
